#!/bin/sh
# check if pyenv is available
# edit: fixed redirect issue in earlier version
if [[ -f /usr/local/bin/brew ]] ; then
  if which pyenv >/dev/null 2>&1; then
    # assumes default location of brew in `/usr/local/bin/brew`
    /usr/bin/env PATH="${PATH//$(pyenv root)\/shims:/}" /usr/local/bin/brew "$@"
  else
    /usr/local/bin/brew "$@"
  fi
fi

if [[ -f /opt/Homebrew/bin/brew ]] ; then
  if which pyenv >/dev/null 2>&1; then
    # assumes M1/2 default location of brew in `/opt/Homebrew/bin/brew`
    /usr/bin/env PATH="${PATH//$(pyenv root)\/shims:/}" /opt/Homebrew/bin/brew "$@"
  else
    /opt/Homebrew/bin/brew "$@"
  fi
fi

if [[ ! -f /usr/local/bin/brew ]] && [[ ! -f /opt/Homebrew/bin/brew ]] ; then
  echo "brew not installed or not in expected place"
fi



  
